<!DOCTYPE html>
<html>

<head>
    <title>Markdown Test</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
            max-width: 800px;
            margin: 0 auto;
        }

        .test-box {
            border: 2px solid #ccc;
            padding: 15px;
            margin: 10px 0;
            border-radius: 8px;
        }

        h2 {
            color: #333;
        }

        .bubble {
            background: #f0f0f0;
            padding: 12px;
            border-radius: 8px;
            margin: 10px 0;
        }

        .bubble strong {
            font-weight: 600;
            color: #6366f1;
        }

        .bubble p {
            margin: 8px 0;
        }

        .bubble ul,
        .bubble ol {
            margin: 8px 0;
            padding-left: 20px;
        }
    </style>
</head>

<body>
    <h1>Markdown Rendering Test</h1>

    <div class="test-box">
        <h2>Test 1: Simple Bold</h2>
        <div class="bubble" id="test1"></div>
    </div>

    <div class="test-box">
        <h2>Test 2: Complex Text (Sun Tzu)</h2>
        <div class="bubble" id="test2"></div>
    </div>

    <div class="test-box">
        <h2>Test 3: Lists</h2>
        <div class="bubble" id="test3"></div>
    </div>

    <script>
        const { marked } = require('marked');

        // Configure marked
        marked.setOptions({
            breaks: true,
            gfm: true,
            headerIds: false,
            mangle: false
        });

        // Test 1: Simple bold
        const test1Text = "This is **bold text** and this is *italic text*.";
        document.getElementById('test1').innerHTML = marked(test1Text);

        // Test 2: Complex text with multiple bold items
        const test2Text = `Sun Tzu, an ancient Chinese general, military strategist, and philosopher, is best known for his work "The Art of War." This treatise on military strategy and tactics is composed of 13 chapters, each dedicated to a different aspect of warfare. While the text offers numerous principles, here are five core rules or ideas that are frequently highlighted:

1. **The Importance of Strategy and Planning**: Sun Tzu emphasizes the significance of careful planning and strategy before engaging in conflict.

2. **Know Your Enemy and Yourself**: One of Sun Tzu's central tenets is the idea of knowledge and intelligence.

3. **Adaptability and Flexibility**: Sun Tzu stresses the importance of being adaptable and flexible in the face of changing circumstances.`;

        document.getElementById('test2').innerHTML = marked(test2Text);

        // Test 3: Lists
        const test3Text = `Here are some items:
- First item with **bold**
- Second item with *italic*
- Third item with normal text`;

        document.getElementById('test3').innerHTML = marked(test3Text);

        console.log('Markdown library loaded:', typeof marked);
        console.log('Test 1 result:', marked(test1Text));
    </script>
</body>

</html>